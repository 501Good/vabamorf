OUT=vmeta
LIBS=etana.ar fsc.ar

FILES=$(wildcard ../../$(OUT)/*.cpp)
CC=g++
FLAGS=-O2 -DNDEBUG -std=gnu++0x -fno-delete-null-pointer-checks -pthread -fdata-sections -ffunction-sections -Wl,--gc-sections
FLAGS_DB=-ggdb  -D_DEBUG -fno-inline -std=gnu++0x -fno-delete-null-pointer-checks -pthread -fdata-sections -ffunction-sections -Wl,--gc-sections

all:
	$(CC) $(FLAGS) -o $(OUT) $(FILES) $(LIBS)
	strip $(OUT)

deb:
	$(CC) $(FLAGS_DB) -o $(OUT).db $(FILES) $(LIBS:.ar=.db.ar)

clean:
	-rm $(OUT)
	-rm $(OUT).db

