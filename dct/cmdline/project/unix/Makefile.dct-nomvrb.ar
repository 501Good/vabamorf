OUT=dct-nomvrb
FILES=$(wildcard ../../../lib/$(OUT)/*.cpp)

CC=g++
FLAGS=-O2 -DNDEBUG -std=gnu++0x -fno-delete-null-pointer-checks -pthread -fdata-sections -ffunction-sections -Wl,--gc-sections

all:
	$(CC) $(FLAGS) -c $(FILES)
	ar -r $(OUT).ar $(notdir $(FILES:.cpp=.o))
	-rm $(notdir $(FILES:.cpp=.o))

clean:
	-rm $(OUT).ar
	-rm *.o

test:
	#$(FILES)

